{"ast":null,"code":"import _classCallCheck from\"/Users/oboagboghidi/Desktop/availity_test/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/oboagboghidi/Desktop/availity_test/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/oboagboghidi/Desktop/availity_test/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/oboagboghidi/Desktop/availity_test/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/oboagboghidi/Desktop/availity_test/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{withRouter}from\"react-router-dom\";import{withStyles}from\"@material-ui/core/styles\";import{FormGroup,Typography,Button,Paper,Input}from\"@material-ui/core\";import axios from\"axios\";import styles from\"../styles/formStyles\";var fileUpload=/*#__PURE__*/function(_Component){_inherits(fileUpload,_Component);function fileUpload(){var _getPrototypeOf2;var _this;_classCallCheck(this,fileUpload);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(fileUpload)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={file:null,fileResponse:null};_this.handleUploadFile=function(e){if(e.target.files){var file=e.target.files[0];_this.setState({file:file});}};_this.handleSubmit=function(e){e.preventDefault();// First Parse the File into String\nif(_this.state.file){var reader=new FileReader();reader.onload=function(evt){var fileString=evt.target.result;// console.log(\"FILE AS STRING\", fileString);\nvar postObj={fileString:fileString,fileName:_this.state.file.name};_this.postFileToServer(\"api/parse/\",postObj);};reader.readAsText(_this.state.file);}};_this.postFileToServer=function(url,content){axios.post(url,content).then(function(_ref){var data=_ref.data;console.log(\"DATA RECEIVED FROM SUBMITTING ENROLLMENT FILE\",data);_this.setState({fileResponse:data});}).catch(function(err){console.error(\"FAILURE SUBMITTING ENROLLMENT FILE\",err.message,err);});};return _this;}_createClass(fileUpload,[{key:\"render\",value:function render(){var classes=this.props.classes;return React.createElement(\"form\",{onSubmit:this.handleSubmit,className:classes.root},React.createElement(Typography,{variant:\"subtitle1\",className:classes.formHeader},\"Upload CSV\"),React.createElement(Paper,{className:classes.formContentPaper},React.createElement(FormGroup,{row:true,className:classes.formRow},React.createElement(\"input\",{accept:\".csv\",className:classes.hiddenInput,id:\"enrollment-file-input\",multiple:true,type:\"file\",onChange:this.handleUploadFile}),React.createElement(\"label\",{htmlFor:\"enrollment-file-input\"},React.createElement(Button,{variant:\"contained\",color:\"primary\",component:\"span\",className:classes.button},\"Upload CSV\")),React.createElement(Typography,{variant:\"subtitle1\",gutterBottom:false,className:classes.fieldDescription},\"File Name:\",\" \",React.createElement(\"span\",null,this.state.file&&this.state.file.name)),React.createElement(FormGroup,{row:true,className:classes.formRow},React.createElement(Button,{type:\"submit\",color:\"primary\",variant:\"contained\",className:classes.submitButton},\"Submit\")))),this.state.fileResponse?React.createElement(Paper,{className:classes.formContentPaper},React.createElement(FormGroup,{row:true,className:classes.formRowLeft},React.createElement(Typography,{variant:\"subtitle1\",className:classes.formHeaderLeft},\"Headers Found:\",\" \",React.createElement(\"span\",null,this.state.fileResponse.headersFound&&this.state.fileResponse.headersFound.join(\" | \"))),React.createElement(FormGroup,{row:true,className:classes.formRowLeft}),React.createElement(Typography,{variant:\"subtitle1\",className:classes.formHeaderLeft},\"Total Records Processed:\",\" \",React.createElement(\"span\",null,this.state.fileResponse.totalRecordsProcessed&&this.state.fileResponse.totalRecordsProcessed)),React.createElement(FormGroup,{row:true,className:classes.formRowLeft}),React.createElement(Typography,{variant:\"subtitle1\",className:classes.formHeaderLeft},\"Duplicate Records Found:\",\" \",React.createElement(\"span\",null,this.state.fileResponse.totalDuplicateRecords&&this.state.fileResponse.totalDuplicateRecords)))):null);}}]);return fileUpload;}(Component);export default withRouter(withStyles(styles,{withTheme:true})(fileUpload));","map":{"version":3,"sources":["/Users/oboagboghidi/Desktop/availity_test/client/src/components/parse/fileUpload.js"],"names":["React","Component","withRouter","withStyles","FormGroup","Typography","Button","Paper","Input","axios","styles","fileUpload","state","file","fileResponse","handleUploadFile","e","target","files","setState","handleSubmit","preventDefault","reader","FileReader","onload","evt","fileString","result","postObj","fileName","name","postFileToServer","readAsText","url","content","post","then","data","console","log","catch","err","error","message","classes","props","root","formHeader","formContentPaper","formRow","hiddenInput","button","fieldDescription","submitButton","formRowLeft","formHeaderLeft","headersFound","join","totalRecordsProcessed","totalDuplicateRecords","withTheme"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { FormGroup, Typography, Button, Paper, Input } from \"@material-ui/core\";\nimport axios from \"axios\";\n\nimport styles from \"../styles/formStyles\";\n\nclass fileUpload extends Component {\n    state = {\n        file: null,\n        fileResponse: null\n    };\n\n    handleUploadFile = e => {\n        if (e.target.files) {\n            const file = e.target.files[0];\n            this.setState({ file });\n        }\n    };\n\n    handleSubmit = e => {\n        e.preventDefault();\n        // First Parse the File into String\n        if (this.state.file) {\n            const reader = new FileReader();\n            reader.onload = evt => {\n                const fileString = evt.target.result;\n                // console.log(\"FILE AS STRING\", fileString);\n                const postObj = { fileString, fileName: this.state.file.name };\n                this.postFileToServer(\"api/parse/\", postObj);\n            };\n            reader.readAsText(this.state.file);\n        }\n    };\n\n    postFileToServer = (url, content) => {\n        axios\n            .post(url, content)\n            .then(({ data }) => {\n                console.log(\n                    \"DATA RECEIVED FROM SUBMITTING ENROLLMENT FILE\",\n                    data\n                );\n                this.setState({ fileResponse: data });\n            })\n            .catch(err => {\n                console.error(\n                    \"FAILURE SUBMITTING ENROLLMENT FILE\",\n                    err.message,\n                    err\n                );\n            });\n    };\n\n    render() {\n        const { classes } = this.props;\n        return (\n            <form onSubmit={this.handleSubmit} className={classes.root}>\n                \n                <Typography variant=\"subtitle1\" className={classes.formHeader}>\n                    Upload CSV\n                </Typography>\n                <Paper className={classes.formContentPaper}>\n                    <FormGroup row className={classes.formRow}>\n                        <input\n                            accept=\".csv\"\n                            className={classes.hiddenInput}\n                            id=\"enrollment-file-input\"\n                            multiple\n                            type=\"file\"\n                            onChange={this.handleUploadFile}\n                        />\n                        <label htmlFor=\"enrollment-file-input\">\n                            <Button\n                                variant=\"contained\"\n                                color=\"primary\"\n                                component=\"span\"\n                                className={classes.button}\n                            >\n                                Upload CSV\n                            </Button>\n                        </label>\n                        <Typography\n                            variant=\"subtitle1\"\n                            gutterBottom={false}\n                            className={classes.fieldDescription}\n                        >\n                            File Name:{\" \"}\n                            <span>\n                                {this.state.file && this.state.file.name}\n                            </span>\n                        </Typography>\n                        <FormGroup row className={classes.formRow}>\n                            <Button\n                                type=\"submit\"\n                                color=\"primary\"\n                                variant=\"contained\"\n                                className={classes.submitButton}\n                            >\n                                Submit\n                            </Button>\n                        </FormGroup>\n                    </FormGroup>\n                </Paper>\n                {this.state.fileResponse ? (\n                    <Paper className={classes.formContentPaper}>\n                        <FormGroup row className={classes.formRowLeft}>\n                            <Typography\n                                variant=\"subtitle1\"\n                                className={classes.formHeaderLeft}\n                            >\n                                Headers Found:{\" \"}\n                                <span>\n                                    {this.state.fileResponse.headersFound &&\n                                        this.state.fileResponse.headersFound.join(\n                                            \" | \"\n                                        )}\n                                </span>\n                            </Typography>\n                            <FormGroup\n                                row\n                                className={classes.formRowLeft}\n                            ></FormGroup>\n                            <Typography\n                                variant=\"subtitle1\"\n                                className={classes.formHeaderLeft}\n                            >\n                                Total Records Processed:{\" \"}\n                                <span>\n                                    {this.state.fileResponse\n                                        .totalRecordsProcessed &&\n                                        this.state.fileResponse\n                                            .totalRecordsProcessed}\n                                </span>\n                            </Typography>\n                            <FormGroup\n                                row\n                                className={classes.formRowLeft}\n                            ></FormGroup>\n                            <Typography\n                                variant=\"subtitle1\"\n                                className={classes.formHeaderLeft}\n                            >\n                                Duplicate Records Found:{\" \"}\n                                <span>\n                                    {this.state.fileResponse\n                                        .totalDuplicateRecords &&\n                                        this.state.fileResponse\n                                            .totalDuplicateRecords}\n                                </span>\n                            </Typography>\n                        </FormGroup>\n                    </Paper>\n                ) : null}\n            </form>\n        );\n    }\n}\n\nexport default withRouter(withStyles(styles, { withTheme: true })(fileUpload));\n"]},"metadata":{},"sourceType":"module"}